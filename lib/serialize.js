function _0x2a62(_0x10633b,_0x39a0d8){const _0x2f68f3=_0x2f68();return _0x2a62=function(_0x2a6237,_0x185321){_0x2a6237=_0x2a6237-0x17b;let _0x49d241=_0x2f68f3[_0x2a6237];return _0x49d241;},_0x2a62(_0x10633b,_0x39a0d8);}const _0x406f47=_0x2a62;(function(_0xbbbd30,_0x3dc22b){const _0x1b5e86=_0x2a62,_0x12b063=_0xbbbd30();while(!![]){try{const _0x3290d3=-parseInt(_0x1b5e86(0x1cc))/0x1*(-parseInt(_0x1b5e86(0x1b2))/0x2)+-parseInt(_0x1b5e86(0x190))/0x3+parseInt(_0x1b5e86(0x18c))/0x4*(parseInt(_0x1b5e86(0x195))/0x5)+parseInt(_0x1b5e86(0x19d))/0x6*(-parseInt(_0x1b5e86(0x1b7))/0x7)+-parseInt(_0x1b5e86(0x199))/0x8+parseInt(_0x1b5e86(0x1c6))/0x9+parseInt(_0x1b5e86(0x19a))/0xa;if(_0x3290d3===_0x3dc22b)break;else _0x12b063['push'](_0x12b063['shift']());}catch(_0x4c49e9){_0x12b063['push'](_0x12b063['shift']());}}}(_0x2f68,0xebba9));const {downloadContentFromMessage,getContentType,makeInMemoryStore}=require(_0x406f47(0x1c3)),pino=require('pino');logger=pino({'level':'silent'});const store=makeInMemoryStore({'logger':pino()['child']({'level':_0x406f47(0x194),'stream':_0x406f47(0x193)})});fs=require('fs');function _0x2f68(){const _0x1d4241=['hydratedTemplate','contextInfo','templateButtonReplyMessage','viewOnceMessage','test','../config','isGroup','@whiskeysockets/baileys','sender','templateMessage','4231368EcxaOM','hydratedFourRowTemplate','key','sendImageAsSticker','log','keys','9356qrIyCr','node-fetch','bind','writeFile','buffer','message','audio','author','conversation','quoted','buttonsMessage','sudo','video','sendMessage','selectedId','promises','string','caption','mtype','@g.us','ephemeral','28pMxaGi','toString','isBuffer','mentions','2929554aKpcHM','file-type','body','store','silent','1348195zqmxma','packname','download','type','10739472hjKKDv','21854090GZamji','quotedMessage','client','8000310aOdNFp','Result\x20is\x20not\x20a\x20buffer','singleSelectReply','remoteJid','.bin','participant','concat','text','alloc','hydratedContentText','document','view_once','selectedButtonId','logger','listResponseMessage','ext','fromMe','ephemeralMessage','getFile','readFileSync','existsSync','16plmhFC','stanzaId','from','isSelf','buttonsResponseMessage','7BZIgQN','split','description','user','normal'];_0x2f68=function(){return _0x1d4241;};return _0x2f68();}const fetch=require(_0x406f47(0x1cd)),{fromBuffer}=require(_0x406f47(0x191)),{SUDO}=require(_0x406f47(0x1c1));let path=require('path');const {writeExifImg,writeExifVid,imageToWebp,videoToWebp}=require('./sticker'),downloadMedia=(_0x1772fe,_0x5b7698)=>new Promise(async(_0x38de36,_0x5d71a5)=>{const _0x3c486a=_0x406f47;let _0x4cad79=Object[_0x3c486a(0x1cb)](_0x1772fe)[0x0],_0x36d889={'imageMessage':'image','videoMessage':_0x3c486a(0x183),'stickerMessage':'sticker','documentMessage':_0x3c486a(0x1a7),'audioMessage':_0x3c486a(0x17d)},_0x3797db=_0x1772fe;_0x4cad79=='templateMessage'&&(_0x3797db=_0x1772fe[_0x3c486a(0x1c5)][_0x3c486a(0x1c7)],_0x4cad79=Object[_0x3c486a(0x1cb)](_0x3797db)[0x0]);_0x4cad79==_0x3c486a(0x181)&&(_0x3797db=_0x1772fe[_0x3c486a(0x181)],_0x4cad79=Object[_0x3c486a(0x1cb)](_0x3797db)[0x0]);try{if(_0x5b7698){const _0x1c155d=await downloadContentFromMessage(_0x3797db[_0x4cad79],_0x36d889[_0x4cad79]);let _0x38ea65=Buffer[_0x3c486a(0x1b4)]([]);for await(const _0xa8a89e of _0x1c155d){_0x38ea65=Buffer[_0x3c486a(0x1a3)]([_0x38ea65,_0xa8a89e]);}await fs[_0x3c486a(0x186)][_0x3c486a(0x1cf)](_0x5b7698,_0x38ea65),_0x38de36(_0x5b7698);}else{const _0x243ff1=await downloadContentFromMessage(_0x3797db[_0x4cad79],_0x36d889[_0x4cad79]);let _0x439b7=Buffer['from']([]);for await(const _0x10b934 of _0x243ff1){_0x439b7=Buffer['concat']([_0x439b7,_0x10b934]);}_0x38de36(_0x439b7);}}catch(_0x40cb97){_0x5d71a5(_0x40cb97);}});async function serialize(_0x268bc0,_0xde575c){const _0x62e1e5=_0x406f47;_0xde575c[_0x62e1e5(0x1aa)]={..._0xde575c['logger'],'info'(){const _0x58ae10=_0x62e1e5;console[_0x58ae10(0x1ca)]();},'error'(){const _0xdeb2ae=_0x62e1e5;console[_0xdeb2ae(0x1ca)]();},'warn'(){console['log']();}},store[_0x62e1e5(0x1ce)](_0xde575c['ev']);let _0x4aba07=_0xde575c[_0x62e1e5(0x1ba)]['id'][_0x62e1e5(0x1b8)]('@')[0x0];_0x268bc0[_0x62e1e5(0x182)]=[SUDO,_0x4aba07[_0x62e1e5(0x1b8)](':')[0x0]][_0x62e1e5(0x18d)]()[_0x62e1e5(0x1b8)](',');_0x268bc0[_0x62e1e5(0x1c8)]&&(_0x268bc0['id']=_0x268bc0['key']['id'],_0x268bc0[_0x62e1e5(0x1b5)]=_0x268bc0[_0x62e1e5(0x1c8)][_0x62e1e5(0x1ad)],_0x268bc0[_0x62e1e5(0x1b4)]=_0x268bc0[_0x62e1e5(0x1c8)][_0x62e1e5(0x1a0)],_0x268bc0[_0x62e1e5(0x1c2)]=_0x268bc0[_0x62e1e5(0x1b4)]['endsWith'](_0x62e1e5(0x18a)),_0x268bc0[_0x62e1e5(0x1c4)]=_0x268bc0['isGroup']?_0x268bc0[_0x62e1e5(0x1c8)][_0x62e1e5(0x1a2)]:_0x268bc0[_0x62e1e5(0x1b5)]?_0xde575c[_0x62e1e5(0x1ba)]['id']:_0x268bc0[_0x62e1e5(0x1b4)]);if(_0x268bc0[_0x62e1e5(0x17c)]){_0x268bc0[_0x62e1e5(0x198)]=getContentType(_0x268bc0['message']);if(_0x268bc0[_0x62e1e5(0x198)]===_0x62e1e5(0x1ae)){_0x268bc0[_0x62e1e5(0x17c)]=_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x17c)];const _0x32bfa6=Object[_0x62e1e5(0x1cb)](_0x268bc0[_0x62e1e5(0x17c)])[0x0];_0x268bc0[_0x62e1e5(0x198)]=_0x32bfa6,_0x32bfa6===_0x62e1e5(0x1bf)&&(_0x268bc0[_0x62e1e5(0x17c)]=_0x268bc0['message'][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x17c)],_0x268bc0[_0x62e1e5(0x198)]=getContentType(_0x268bc0[_0x62e1e5(0x17c)]));}_0x268bc0['type']==='viewOnceMessage'&&(_0x268bc0[_0x62e1e5(0x17c)]=_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x17c)],_0x268bc0['type']=getContentType(_0x268bc0[_0x62e1e5(0x17c)]));try{_0x268bc0[_0x62e1e5(0x18f)]=_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0['type']][_0x62e1e5(0x1bd)]?_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0['type']][_0x62e1e5(0x1bd)]['mentionedJid']||[]:[];}catch{_0x268bc0['mentions']=![];}try{const _0x436371=_0x268bc0['message'][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x1bd)];let _0x3db60c;if(_0x436371&&_0x436371['quotedMessage']){if(_0x436371[_0x62e1e5(0x19b)]['ephemeralMessage'])_0x3db60c=Object[_0x62e1e5(0x1cb)](_0x436371[_0x62e1e5(0x19b)][_0x62e1e5(0x1ae)][_0x62e1e5(0x17c)])[0x0],_0x268bc0[_0x62e1e5(0x180)]={'type':_0x3db60c===_0x62e1e5(0x1bf)?_0x62e1e5(0x1a8):_0x62e1e5(0x18b),'stanzaId':_0x436371['stanzaId'],'sender':_0x436371[_0x62e1e5(0x1a2)],'message':_0x3db60c==='viewOnceMessage'?_0x436371[_0x62e1e5(0x19b)]['ephemeralMessage']['message']['viewOnceMessage']['message']:_0x436371[_0x62e1e5(0x19b)][_0x62e1e5(0x1ae)][_0x62e1e5(0x17c)]};else _0x436371[_0x62e1e5(0x19b)][_0x62e1e5(0x1bf)]?_0x268bc0[_0x62e1e5(0x180)]={'type':_0x62e1e5(0x1a8),'stanzaId':_0x436371[_0x62e1e5(0x1b3)],'sender':_0x436371[_0x62e1e5(0x1a2)],'message':_0x436371[_0x62e1e5(0x19b)]['viewOnceMessage'][_0x62e1e5(0x17c)]}:_0x268bc0['quoted']={'type':_0x62e1e5(0x1bb),'stanzaId':_0x436371['stanzaId'],'sender':_0x436371[_0x62e1e5(0x1a2)],'message':_0x436371[_0x62e1e5(0x19b)]};_0x268bc0[_0x62e1e5(0x180)]['isSelf']=_0x268bc0[_0x62e1e5(0x180)]['sender']===_0xde575c[_0x62e1e5(0x1ba)]['id'],_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x189)]=Object['keys'](_0x268bc0[_0x62e1e5(0x180)]['message']),_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x1a4)]=_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x189)]]?.[_0x62e1e5(0x1a4)]||_0x268bc0[_0x62e1e5(0x180)]['message'][_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x189)]]?.[_0x62e1e5(0x1b9)]||_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x180)]['mtype']]?.[_0x62e1e5(0x188)]||_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x189)]===_0x62e1e5(0x1be)&&_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x189)]][_0x62e1e5(0x1bc)]?.[_0x62e1e5(0x1a6)]||_0x268bc0['quoted'][_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x180)]['mtype']]||'',_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x1c8)]={'id':_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x1b3)],'fromMe':_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x1b5)],'remoteJid':_0x268bc0[_0x62e1e5(0x1b4)]},_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x197)]=_0x2df05e=>downloadMedia(_0x268bc0[_0x62e1e5(0x180)][_0x62e1e5(0x17c)],_0x2df05e);}}catch(_0x46606c){console[_0x62e1e5(0x1ca)](_0x46606c),_0x268bc0[_0x62e1e5(0x180)]=null;}try{_0x268bc0[_0x62e1e5(0x192)]=_0x268bc0[_0x62e1e5(0x17c)][_0x62e1e5(0x17f)]||_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x1a4)]||_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0['type']][_0x62e1e5(0x188)]||_0x268bc0[_0x62e1e5(0x198)]===_0x62e1e5(0x1ab)&&_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x19f)]['selectedRowId']||_0x268bc0['type']===_0x62e1e5(0x1b6)&&_0x268bc0['message'][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x1a9)]&&_0x268bc0[_0x62e1e5(0x17c)][_0x268bc0[_0x62e1e5(0x198)]]['selectedButtonId']||_0x268bc0[_0x62e1e5(0x198)]===_0x62e1e5(0x1be)&&_0x268bc0['message'][_0x268bc0[_0x62e1e5(0x198)]][_0x62e1e5(0x185)]||![];}catch{_0x268bc0[_0x62e1e5(0x192)]=![];}_0x268bc0[_0x62e1e5(0x197)]=_0x11ac0b=>downloadMedia(_0x268bc0[_0x62e1e5(0x17c)],_0x11ac0b),_0xde575c[_0x62e1e5(0x19c)]=_0x268bc0,_0xde575c[_0x62e1e5(0x193)]=store,_0xde575c[_0x62e1e5(0x1af)]=async(_0x15652b,_0x28341e)=>{const _0x52eaa3=_0x62e1e5;let _0x61e8a5,_0x4677e1,_0x3f6127=Buffer[_0x52eaa3(0x18e)](_0x15652b)?_0x15652b:/^data:.*?\/.*?;base64,/i[_0x52eaa3(0x1c0)](_0x15652b)?Buffer[_0x52eaa3(0x1b4)](_0x15652b['split']`,`[0x1],'base64'):/^https?:\/\//[_0x52eaa3(0x1c0)](_0x15652b)?await(_0x61e8a5=await fetch(_0x15652b))[_0x52eaa3(0x17b)]():fs[_0x52eaa3(0x1b1)](_0x15652b)?(_0x4677e1=_0x15652b,fs[_0x52eaa3(0x1b0)](_0x15652b)):typeof _0x15652b===_0x52eaa3(0x187)?_0x15652b:Buffer[_0x52eaa3(0x1a5)](0x0);if(!Buffer['isBuffer'](_0x3f6127))throw new TypeError(_0x52eaa3(0x19e));let _0x244041=await fromBuffer(_0x3f6127)||{'mime':'application/octet-stream','ext':_0x52eaa3(0x1a1)};if(_0x3f6127&&_0x28341e&&!_0x4677e1)_0x4677e1=path['join'](__dirname,'../'+new Date()*0x1+'.'+_0x244041[_0x52eaa3(0x1ac)]),await fs[_0x52eaa3(0x186)][_0x52eaa3(0x1cf)](_0x4677e1,_0x3f6127);return{'res':_0x61e8a5,'filename':_0x4677e1,..._0x244041,'data':_0x3f6127};},_0xde575c[_0x62e1e5(0x1c9)]=async(_0x73ca8c,_0x48f9c0,_0x3d434b={})=>{const _0x31eef2=_0x62e1e5;let _0x4833ce;_0x3d434b&&(_0x3d434b['packname']||_0x3d434b['author'])?_0x4833ce=await writeExifImg(_0x48f9c0,_0x3d434b):_0x4833ce=await imageToWebp(_0x48f9c0),await _0xde575c[_0x31eef2(0x184)](_0x73ca8c,{'sticker':{'url':_0x4833ce},..._0x3d434b},_0x3d434b);},_0xde575c['sendVideoAsSticker']=async(_0x797b8c,_0x26d096,_0x18d9b2={})=>{const _0x3ba8c1=_0x62e1e5;let _0x18edf8;_0x18d9b2&&(_0x18d9b2[_0x3ba8c1(0x196)]||_0x18d9b2[_0x3ba8c1(0x17e)])?_0x18edf8=await writeExifVid(_0x26d096,_0x18d9b2):_0x18edf8=await videoToWebp(_0x26d096),await _0xde575c['sendMessage'](_0x797b8c,{'sticker':{'url':_0x18edf8},..._0x18d9b2},_0x18d9b2);};}return _0x268bc0;}module['exports']={'serialize':serialize,'downloadMedia':downloadMedia};
