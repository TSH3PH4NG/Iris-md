const _0x41bb7c=_0x278a;(function(_0x2442f5,_0x2f6f91){const _0x4d44ed=_0x278a,_0xa4b3c1=_0x2442f5();while(!![]){try{const _0x1d0558=-parseInt(_0x4d44ed(0x1aa))/0x1+parseInt(_0x4d44ed(0x159))/0x2+-parseInt(_0x4d44ed(0x16a))/0x3+-parseInt(_0x4d44ed(0x194))/0x4*(parseInt(_0x4d44ed(0x19c))/0x5)+-parseInt(_0x4d44ed(0x1a5))/0x6*(parseInt(_0x4d44ed(0x1a3))/0x7)+-parseInt(_0x4d44ed(0x17c))/0x8*(parseInt(_0x4d44ed(0x19b))/0x9)+parseInt(_0x4d44ed(0x15c))/0xa;if(_0x1d0558===_0x2f6f91)break;else _0xa4b3c1['push'](_0xa4b3c1['shift']());}catch(_0x4369bc){_0xa4b3c1['push'](_0xa4b3c1['shift']());}}}(_0x5495,0x3c37a));function _0x278a(_0x172689,_0x10c68b){const _0x5495db=_0x5495();return _0x278a=function(_0x278a2b,_0x2ea7c8){_0x278a2b=_0x278a2b-0x155;let _0x435f32=_0x5495db[_0x278a2b];return _0x435f32;},_0x278a(_0x172689,_0x10c68b);}function _0x5495(){const _0x2078bc=['stanzaId','node-fetch','../config','description','quotedMessage','hydratedFourRowTemplate','927954GIrkqR','5ruAaHR','selectedRowId','view_once','buttonsMessage','viewOnceMessage','sudo','mtype','816865WWADFk','getFile','12HNIVZa','document','split','key','selectedButtonId','72604TStlXP','writeFile','isSelf','participant','user','480514qDcLmx','client','quoted','8259180iQcqFD','normal','sendImageAsSticker','@g.us','buffer','caption','string','log','download','body','join','ephemeral','sender','selectedId','630528xkGHec','keys','video','alloc','.bin','packname','listResponseMessage','author','isGroup','existsSync','Result\x20is\x20not\x20a\x20buffer','contextInfo','isBuffer','ephemeralMessage','endsWith','from','./sticker','message','8MzavzT','file-type','../','templateButtonReplyMessage','sendMessage','@whiskeysockets/baileys','test','buttonsResponseMessage','templateMessage','path','mentions','fromMe','logger','singleSelectReply','image','text','mentionedJid','base64','type','promises','remoteJid','audio','concat','hydratedContentText','800996pnxVWR'];_0x5495=function(){return _0x2078bc;};return _0x5495();}const {downloadContentFromMessage,getContentType}=require(_0x41bb7c(0x181)),fs=require('fs'),fetch=require(_0x41bb7c(0x196)),{fromBuffer}=require(_0x41bb7c(0x17d)),{SUDO}=require(_0x41bb7c(0x197));let path=require(_0x41bb7c(0x185));const {writeExifImg,writeExifVid,imageToWebp,videoToWebp}=require(_0x41bb7c(0x17a)),downloadMedia=(_0x347243,_0x50cc94)=>new Promise(async(_0x4fe38c,_0x286f2c)=>{const _0x4de2fb=_0x41bb7c;let _0x4787d5=Object[_0x4de2fb(0x16b)](_0x347243)[0x0],_0x51abdc={'imageMessage':_0x4de2fb(0x18a),'videoMessage':_0x4de2fb(0x16c),'stickerMessage':'sticker','documentMessage':_0x4de2fb(0x1a6),'audioMessage':_0x4de2fb(0x191)},_0x39e093=_0x347243;_0x4787d5==_0x4de2fb(0x184)&&(_0x39e093=_0x347243['templateMessage'][_0x4de2fb(0x19a)],_0x4787d5=Object[_0x4de2fb(0x16b)](_0x39e093)[0x0]);_0x4787d5==_0x4de2fb(0x19f)&&(_0x39e093=_0x347243[_0x4de2fb(0x19f)],_0x4787d5=Object[_0x4de2fb(0x16b)](_0x39e093)[0x0]);try{if(_0x50cc94){const _0x39a0af=await downloadContentFromMessage(_0x39e093[_0x4787d5],_0x51abdc[_0x4787d5]);let _0x20c19d=Buffer['from']([]);for await(const _0x43925c of _0x39a0af){_0x20c19d=Buffer[_0x4de2fb(0x192)]([_0x20c19d,_0x43925c]);}await fs['promises']['writeFile'](_0x50cc94,_0x20c19d),_0x4fe38c(_0x50cc94);}else{const _0x4b8dd5=await downloadContentFromMessage(_0x39e093[_0x4787d5],_0x51abdc[_0x4787d5]);let _0x104646=Buffer['from']([]);for await(const _0x349897 of _0x4b8dd5){_0x104646=Buffer[_0x4de2fb(0x192)]([_0x104646,_0x349897]);}_0x4fe38c(_0x104646);}}catch(_0x212ecb){_0x286f2c(_0x212ecb);}});async function serialize(_0x1b9ec6,_0x36ccab){const _0x10bb39=_0x41bb7c;_0x36ccab['logger']={..._0x36ccab[_0x10bb39(0x188)],'info'(){const _0x5717da=_0x10bb39;console[_0x5717da(0x163)]();},'error'(){const _0xc939af=_0x10bb39;console[_0xc939af(0x163)]();},'warn'(){const _0x1dd926=_0x10bb39;console[_0x1dd926(0x163)]();}};let _0x440b2d=_0x36ccab[_0x10bb39(0x158)]['id'][_0x10bb39(0x1a7)]('@')[0x0];_0x1b9ec6[_0x10bb39(0x1a1)]=[SUDO,_0x440b2d[_0x10bb39(0x1a7)](':')[0x0]];_0x1b9ec6[_0x10bb39(0x1a8)]&&(_0x1b9ec6['id']=_0x1b9ec6[_0x10bb39(0x1a8)]['id'],_0x1b9ec6[_0x10bb39(0x156)]=_0x1b9ec6[_0x10bb39(0x1a8)][_0x10bb39(0x187)],_0x1b9ec6[_0x10bb39(0x179)]=_0x1b9ec6[_0x10bb39(0x1a8)][_0x10bb39(0x190)],_0x1b9ec6['isGroup']=_0x1b9ec6[_0x10bb39(0x179)][_0x10bb39(0x178)](_0x10bb39(0x15f)),_0x1b9ec6[_0x10bb39(0x168)]=_0x1b9ec6[_0x10bb39(0x172)]?_0x1b9ec6[_0x10bb39(0x1a8)][_0x10bb39(0x157)]:_0x1b9ec6[_0x10bb39(0x156)]?_0x36ccab[_0x10bb39(0x158)]['id']:_0x1b9ec6[_0x10bb39(0x179)]);if(_0x1b9ec6[_0x10bb39(0x17b)]){_0x1b9ec6['type']=getContentType(_0x1b9ec6[_0x10bb39(0x17b)]);if(_0x1b9ec6['type']==='ephemeralMessage'){_0x1b9ec6['message']=_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6['type']][_0x10bb39(0x17b)];const _0x2f23d8=Object['keys'](_0x1b9ec6['message'])[0x0];_0x1b9ec6[_0x10bb39(0x18e)]=_0x2f23d8,_0x2f23d8===_0x10bb39(0x1a0)&&(_0x1b9ec6[_0x10bb39(0x17b)]=_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x18e)]][_0x10bb39(0x17b)],_0x1b9ec6[_0x10bb39(0x18e)]=getContentType(_0x1b9ec6['message']));}_0x1b9ec6['type']===_0x10bb39(0x1a0)&&(_0x1b9ec6['message']=_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x18e)]][_0x10bb39(0x17b)],_0x1b9ec6[_0x10bb39(0x18e)]=getContentType(_0x1b9ec6[_0x10bb39(0x17b)]));try{_0x1b9ec6[_0x10bb39(0x186)]=_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x18e)]][_0x10bb39(0x175)]?_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x18e)]]['contextInfo'][_0x10bb39(0x18c)]||[]:[];}catch{_0x1b9ec6[_0x10bb39(0x186)]=![];}try{const _0x2ce95d=_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6['type']][_0x10bb39(0x175)];let _0x3a6a6e;if(_0x2ce95d&&_0x2ce95d[_0x10bb39(0x199)]){if(_0x2ce95d[_0x10bb39(0x199)][_0x10bb39(0x177)])_0x3a6a6e=Object[_0x10bb39(0x16b)](_0x2ce95d[_0x10bb39(0x199)][_0x10bb39(0x177)][_0x10bb39(0x17b)])[0x0],_0x1b9ec6[_0x10bb39(0x15b)]={'type':_0x3a6a6e==='viewOnceMessage'?_0x10bb39(0x19e):_0x10bb39(0x167),'stanzaId':_0x2ce95d['stanzaId'],'sender':_0x2ce95d[_0x10bb39(0x157)],'message':_0x3a6a6e===_0x10bb39(0x1a0)?_0x2ce95d[_0x10bb39(0x199)][_0x10bb39(0x177)][_0x10bb39(0x17b)]['viewOnceMessage'][_0x10bb39(0x17b)]:_0x2ce95d[_0x10bb39(0x199)][_0x10bb39(0x177)][_0x10bb39(0x17b)]};else _0x2ce95d[_0x10bb39(0x199)]['viewOnceMessage']?_0x1b9ec6[_0x10bb39(0x15b)]={'type':_0x10bb39(0x19e),'stanzaId':_0x2ce95d[_0x10bb39(0x195)],'sender':_0x2ce95d[_0x10bb39(0x157)],'message':_0x2ce95d[_0x10bb39(0x199)][_0x10bb39(0x1a0)][_0x10bb39(0x17b)]}:_0x1b9ec6['quoted']={'type':_0x10bb39(0x15d),'stanzaId':_0x2ce95d[_0x10bb39(0x195)],'sender':_0x2ce95d[_0x10bb39(0x157)],'message':_0x2ce95d[_0x10bb39(0x199)]};_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x156)]=_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x168)]===_0x36ccab[_0x10bb39(0x158)]['id'],_0x1b9ec6['quoted'][_0x10bb39(0x1a2)]=Object['keys'](_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)]),_0x1b9ec6['quoted'][_0x10bb39(0x18b)]=_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)][_0x1b9ec6['quoted']['mtype']]?.[_0x10bb39(0x18b)]||_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x1a2)]]?.[_0x10bb39(0x198)]||_0x1b9ec6['quoted']['message'][_0x1b9ec6['quoted'][_0x10bb39(0x1a2)]]?.[_0x10bb39(0x161)]||_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x1a2)]==='templateButtonReplyMessage'&&_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x1a2)]]['hydratedTemplate']?.[_0x10bb39(0x193)]||_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x1a2)]]||'',_0x1b9ec6[_0x10bb39(0x15b)]['key']={'id':_0x1b9ec6[_0x10bb39(0x15b)]['stanzaId'],'fromMe':_0x1b9ec6['quoted'][_0x10bb39(0x156)],'remoteJid':_0x1b9ec6[_0x10bb39(0x179)]},_0x1b9ec6['quoted'][_0x10bb39(0x164)]=_0x222eef=>downloadMedia(_0x1b9ec6[_0x10bb39(0x15b)][_0x10bb39(0x17b)],_0x222eef);}}catch(_0x31f1dc){console[_0x10bb39(0x163)](_0x31f1dc),_0x1b9ec6[_0x10bb39(0x15b)]=null;}try{_0x1b9ec6[_0x10bb39(0x165)]=_0x1b9ec6['message']['conversation']||_0x1b9ec6['message'][_0x1b9ec6[_0x10bb39(0x18e)]][_0x10bb39(0x18b)]||_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6[_0x10bb39(0x18e)]]['caption']||_0x1b9ec6[_0x10bb39(0x18e)]===_0x10bb39(0x170)&&_0x1b9ec6['message'][_0x1b9ec6[_0x10bb39(0x18e)]][_0x10bb39(0x189)][_0x10bb39(0x19d)]||_0x1b9ec6['type']===_0x10bb39(0x183)&&_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6['type']][_0x10bb39(0x1a9)]&&_0x1b9ec6['message'][_0x1b9ec6['type']]['selectedButtonId']||_0x1b9ec6[_0x10bb39(0x18e)]===_0x10bb39(0x17f)&&_0x1b9ec6[_0x10bb39(0x17b)][_0x1b9ec6['type']][_0x10bb39(0x169)]||![];}catch{_0x1b9ec6[_0x10bb39(0x165)]=![];}_0x1b9ec6[_0x10bb39(0x164)]=_0x11f176=>downloadMedia(_0x1b9ec6[_0x10bb39(0x17b)],_0x11f176),_0x36ccab[_0x10bb39(0x15a)]=_0x1b9ec6,_0x36ccab[_0x10bb39(0x1a4)]=async(_0xd517eb,_0x5110ae)=>{const _0x1cb54b=_0x10bb39;let _0x35595e,_0x20bdda,_0x177d2c=Buffer[_0x1cb54b(0x176)](_0xd517eb)?_0xd517eb:/^data:.*?\/.*?;base64,/i[_0x1cb54b(0x182)](_0xd517eb)?Buffer[_0x1cb54b(0x179)](_0xd517eb[_0x1cb54b(0x1a7)]`,`[0x1],_0x1cb54b(0x18d)):/^https?:\/\//['test'](_0xd517eb)?await(_0x35595e=await fetch(_0xd517eb))[_0x1cb54b(0x160)]():fs[_0x1cb54b(0x173)](_0xd517eb)?(_0x20bdda=_0xd517eb,fs['readFileSync'](_0xd517eb)):typeof _0xd517eb===_0x1cb54b(0x162)?_0xd517eb:Buffer[_0x1cb54b(0x16d)](0x0);if(!Buffer['isBuffer'](_0x177d2c))throw new TypeError(_0x1cb54b(0x174));let _0x14f25e=await fromBuffer(_0x177d2c)||{'mime':'application/octet-stream','ext':_0x1cb54b(0x16e)};if(_0x177d2c&&_0x5110ae&&!_0x20bdda)_0x20bdda=path[_0x1cb54b(0x166)](__dirname,_0x1cb54b(0x17e)+new Date()*0x1+'.'+_0x14f25e['ext']),await fs[_0x1cb54b(0x18f)][_0x1cb54b(0x155)](_0x20bdda,_0x177d2c);return{'res':_0x35595e,'filename':_0x20bdda,..._0x14f25e,'data':_0x177d2c};},_0x36ccab[_0x10bb39(0x15e)]=async(_0x549d27,_0x3018f5,_0x2741b1={})=>{const _0x2b71dc=_0x10bb39;let _0x68d5d;_0x2741b1&&(_0x2741b1[_0x2b71dc(0x16f)]||_0x2741b1[_0x2b71dc(0x171)])?_0x68d5d=await writeExifImg(_0x3018f5,_0x2741b1):_0x68d5d=await imageToWebp(_0x3018f5),await _0x36ccab['sendMessage'](_0x549d27,{'sticker':{'url':_0x68d5d},..._0x2741b1},_0x2741b1);},_0x36ccab['sendVideoAsSticker']=async(_0x4a5ae8,_0x106000,_0x561f20={})=>{const _0x43e5d9=_0x10bb39;let _0x4974c7;_0x561f20&&(_0x561f20['packname']||_0x561f20[_0x43e5d9(0x171)])?_0x4974c7=await writeExifVid(_0x106000,_0x561f20):_0x4974c7=await videoToWebp(_0x106000),await _0x36ccab[_0x43e5d9(0x180)](_0x4a5ae8,{'sticker':{'url':_0x4974c7},..._0x561f20},_0x561f20);};}return _0x1b9ec6;}module['exports']={'serialize':serialize,'downloadMedia':downloadMedia};
